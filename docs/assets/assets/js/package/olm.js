// @license magnet:?xt=urn:btih:8e4f440f4c65981c5bf93c76d35135ba5064d8b7&dn=apache-2.0.txt Apache-2.0
// @source: https://gitlab.matrix.org/matrix-org/olm/-/tree/3.2.15

var Olm = (function() {
var olm_exports = {};
var onInitSuccess;
var onInitFail;

var Module = (() => {
  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;
  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;
  return (
function(moduleArg = {}) {

var b=moduleArg,aa,ba;b.ready=new Promise((a,c)=>{aa=a;ba=c});var f;if("undefined"!==typeof window)f=function(a){window.crypto.getRandomValues(a)};else if(module.exports){var ca=require("crypto");f=function(a){var c=ca.randomBytes(a.length);a.set(c)}}else throw Error("Cannot find global to attach library to");if("undefined"!==typeof OLM_OPTIONS)for(var da in OLM_OPTIONS)OLM_OPTIONS.hasOwnProperty(da)&&(b[da]=OLM_OPTIONS[da]);
b.onRuntimeInitialized=function(){k=b._olm_error();olm_exports.PRIVATE_KEY_LENGTH=b._olm_pk_private_key_length();onInitSuccess&&onInitSuccess()};b.onAbort=function(a){onInitFail&&onInitFail(a)};var ea=Object.assign({},b),fa="object"==typeof window,l="function"==typeof importScripts,ha="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,n="",ia,ja,ka;
if(ha){var fs=require("fs"),la=require("path");n=l?la.dirname(n)+"/":__dirname+"/";ia=(a,c)=>{a=ma(a)?new URL(a):la.normalize(a);return fs.readFileSync(a,c?void 0:"utf8")};ka=a=>{a=ia(a,!0);a.buffer||(a=new Uint8Array(a));return a};ja=(a,c,d,e=!0)=>{a=ma(a)?new URL(a):la.normalize(a);fs.readFile(a,e?void 0:"utf8",(g,h)=>{g?d(g):c(e?h.buffer:h)})};process.argv.slice(2);b.inspect=()=>"[Emscripten Module object]"}else if(fa||l)l?n=self.location.href:"undefined"!=typeof document&&document.currentScript&&
(n=document.currentScript.src),_scriptDir&&(n=_scriptDir),0!==n.indexOf("blob:")?n=n.substr(0,n.replace(/[?#].*/,"").lastIndexOf("/")+1):n="",ia=a=>{var c=new XMLHttpRequest;c.open("GET",a,!1);c.send(null);return c.responseText},l&&(ka=a=>{var c=new XMLHttpRequest;c.open("GET",a,!1);c.responseType="arraybuffer";c.send(null);return new Uint8Array(c.response)}),ja=(a,c,d)=>{var e=new XMLHttpRequest;e.open("GET",a,!0);e.responseType="arraybuffer";e.onload=()=>{200==e.status||0==e.status&&e.response?
c(e.response):d()};e.onerror=d;e.send(null)};b.print||console.log.bind(console);var p=b.printErr||console.error.bind(console);Object.assign(b,ea);ea=null;var na;b.wasmBinary&&(na=b.wasmBinary);"object"!=typeof WebAssembly&&q("no native wasm support detected");var oa,pa=!1,r,t,qa,ra,sa,ta,ua;
function va(){var a=oa.buffer;b.HEAP8=r=new Int8Array(a);b.HEAP16=qa=new Int16Array(a);b.HEAPU8=t=new Uint8Array(a);b.HEAPU16=new Uint16Array(a);b.HEAP32=ra=new Int32Array(a);b.HEAPU32=sa=new Uint32Array(a);b.HEAPF32=ta=new Float32Array(a);b.HEAPF64=ua=new Float64Array(a)}var wa=[],xa=[],za=[];function Aa(){var a=b.preRun.shift();wa.unshift(a)}var u=0,Ba=null,Ca=null;
function q(a){if(b.onAbort)b.onAbort(a);a="Aborted("+a+")";p(a);pa=!0;a=new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info.");ba(a);throw a;}var Da=a=>a.startsWith("data:application/octet-stream;base64,"),ma=a=>a.startsWith("file://"),w;w="olm.wasm";if(!Da(w)){var Ea=w;w=b.locateFile?b.locateFile(Ea,n):n+Ea}function Fa(a){if(a==w&&na)return new Uint8Array(na);if(ka)return ka(a);throw"both async and sync fetching of the wasm failed";}
function Ga(a){if(!na&&(fa||l)){if("function"==typeof fetch&&!ma(a))return fetch(a,{credentials:"same-origin"}).then(c=>{if(!c.ok)throw"failed to load wasm binary file at '"+a+"'";return c.arrayBuffer()}).catch(()=>Fa(a));if(ja)return new Promise((c,d)=>{ja(a,e=>c(new Uint8Array(e)),d)})}return Promise.resolve().then(()=>Fa(a))}function Ha(a,c,d){return Ga(a).then(e=>WebAssembly.instantiate(e,c)).then(e=>e).then(d,e=>{p(`failed to asynchronously prepare wasm: ${e}`);q(e)})}
function Ia(a,c){var d=w;return na||"function"!=typeof WebAssembly.instantiateStreaming||Da(d)||ma(d)||ha||"function"!=typeof fetch?Ha(d,a,c):fetch(d,{credentials:"same-origin"}).then(e=>WebAssembly.instantiateStreaming(e,a).then(c,function(g){p(`wasm streaming compile failed: ${g}`);p("falling back to ArrayBuffer instantiation");return Ha(d,a,c)}))}var Ja=a=>{for(;0<a.length;)a.shift()(b)};
function Ka(a,c="i8"){c.endsWith("*")&&(c="*");switch(c){case "i1":return r[a>>0];case "i8":return r[a>>0];case "i16":return qa[a>>1];case "i32":return ra[a>>2];case "i64":q("to do getValue(i64) use WASM_BIGINT");case "float":return ta[a>>2];case "double":return ua[a>>3];case "*":return sa[a>>2];default:q(`invalid type for getValue: ${c}`)}}
function x(a){var c="i8";c.endsWith("*")&&(c="*");switch(c){case "i1":r[a>>0]=0;break;case "i8":r[a>>0]=0;break;case "i16":qa[a>>1]=0;break;case "i32":ra[a>>2]=0;break;case "i64":q("to do setValue(i64) use WASM_BIGINT");case "float":ta[a>>2]=0;break;case "double":ua[a>>3]=0;break;case "*":sa[a>>2]=0;break;default:q(`invalid type for setValue: ${c}`)}}
var La=(a,c,d)=>{for(var e=0;e<a.length;++e)r[c++>>0]=a.charCodeAt(e);d||(r[c>>0]=0)},z=a=>{for(var c=0,d=0;d<a.length;++d){var e=a.charCodeAt(d);127>=e?c++:2047>=e?c+=2:55296<=e&&57343>=e?(c+=4,++d):c+=3}return c},A=(a,c,d,e)=>{if(!(0<e))return 0;var g=d;e=d+e-1;for(var h=0;h<a.length;++h){var m=a.charCodeAt(h);if(55296<=m&&57343>=m){var v=a.charCodeAt(++h);m=65536+((m&1023)<<10)|v&1023}if(127>=m){if(d>=e)break;c[d++]=m}else{if(2047>=m){if(d+1>=e)break;c[d++]=192|m>>6}else{if(65535>=m){if(d+2>=e)break;
c[d++]=224|m>>12}else{if(d+3>=e)break;c[d++]=240|m>>18;c[d++]=128|m>>12&63}c[d++]=128|m>>6&63}c[d++]=128|m&63}}c[d]=0;return d-g};function Ma(a,c,d){d=Array(0<d?d:z(a)+1);a=A(a,d,0,d.length);c&&(d.length=a);return d}
var Na="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,B=(a,c)=>{var d=t,e=a+c;for(c=a;d[c]&&!(c>=e);)++c;if(16<c-a&&d.buffer&&Na)return Na.decode(d.subarray(a,c));for(e="";a<c;){var g=d[a++];if(g&128){var h=d[a++]&63;if(192==(g&224))e+=String.fromCharCode((g&31)<<6|h);else{var m=d[a++]&63;g=224==(g&240)?(g&15)<<12|h<<6|m:(g&7)<<18|h<<12|m<<6|d[a++]&63;65536>g?e+=String.fromCharCode(g):(g-=65536,e+=String.fromCharCode(55296|g>>10,56320|g&1023))}}else e+=String.fromCharCode(g)}return e},
Oa={b:(a,c,d)=>t.copyWithin(a,c,c+d),a:a=>{var c=t.length;a>>>=0;if(2147483648<a)return!1;for(var d=1;4>=d;d*=2){var e=c*(1+.2/d);e=Math.min(e,a+100663296);var g=Math;e=Math.max(a,e);a:{g=(g.min.call(g,2147483648,e+(65536-e%65536)%65536)-oa.buffer.byteLength+65535)/65536;try{oa.grow(g);va();var h=1;break a}catch(m){}h=void 0}if(h)return!0}return!1}},C=function(){function a(d){C=d.exports;oa=C.c;va();xa.unshift(C.d);u--;b.monitorRunDependencies&&b.monitorRunDependencies(u);0==u&&(null!==Ba&&(clearInterval(Ba),
Ba=null),Ca&&(d=Ca,Ca=null,d()));return C}var c={a:Oa};u++;b.monitorRunDependencies&&b.monitorRunDependencies(u);if(b.instantiateWasm)try{return b.instantiateWasm(c,a)}catch(d){p(`Module.instantiateWasm callback failed with error: ${d}`),ba(d)}Ia(c,function(d){a(d.instance)}).catch(ba);return{}}();b._olm_get_library_version=(a,c,d)=>(b._olm_get_library_version=C.f)(a,c,d);b._olm_error=()=>(b._olm_error=C.g)();b._olm_account_last_error=a=>(b._olm_account_last_error=C.h)(a);
b.__olm_error_to_string=a=>(b.__olm_error_to_string=C.i)(a);b._olm_account_last_error_code=a=>(b._olm_account_last_error_code=C.j)(a);b._olm_session_last_error=a=>(b._olm_session_last_error=C.k)(a);b._olm_session_last_error_code=a=>(b._olm_session_last_error_code=C.l)(a);b._olm_utility_last_error=a=>(b._olm_utility_last_error=C.m)(a);b._olm_utility_last_error_code=a=>(b._olm_utility_last_error_code=C.n)(a);b._olm_account_size=()=>(b._olm_account_size=C.o)();
b._olm_session_size=()=>(b._olm_session_size=C.p)();b._olm_utility_size=()=>(b._olm_utility_size=C.q)();b._olm_account=a=>(b._olm_account=C.r)(a);b._olm_session=a=>(b._olm_session=C.s)(a);b._olm_utility=a=>(b._olm_utility=C.t)(a);b._olm_clear_account=a=>(b._olm_clear_account=C.u)(a);b._olm_clear_session=a=>(b._olm_clear_session=C.v)(a);b._olm_clear_utility=a=>(b._olm_clear_utility=C.w)(a);b._olm_pickle_account_length=a=>(b._olm_pickle_account_length=C.x)(a);
b._olm_pickle_session_length=a=>(b._olm_pickle_session_length=C.y)(a);b._olm_pickle_account=(a,c,d,e,g)=>(b._olm_pickle_account=C.z)(a,c,d,e,g);b._olm_pickle_session=(a,c,d,e,g)=>(b._olm_pickle_session=C.A)(a,c,d,e,g);b._olm_unpickle_account=(a,c,d,e,g)=>(b._olm_unpickle_account=C.B)(a,c,d,e,g);b._olm_unpickle_session=(a,c,d,e,g)=>(b._olm_unpickle_session=C.C)(a,c,d,e,g);b._olm_create_account_random_length=a=>(b._olm_create_account_random_length=C.D)(a);
b._olm_create_account=(a,c,d)=>(b._olm_create_account=C.E)(a,c,d);b._olm_account_identity_keys_length=a=>(b._olm_account_identity_keys_length=C.F)(a);b._olm_account_identity_keys=(a,c,d)=>(b._olm_account_identity_keys=C.G)(a,c,d);b._olm_account_signature_length=a=>(b._olm_account_signature_length=C.H)(a);b._olm_account_sign=(a,c,d,e,g)=>(b._olm_account_sign=C.I)(a,c,d,e,g);b._olm_account_one_time_keys_length=a=>(b._olm_account_one_time_keys_length=C.J)(a);
b._olm_account_one_time_keys=(a,c,d)=>(b._olm_account_one_time_keys=C.K)(a,c,d);b._olm_account_mark_keys_as_published=a=>(b._olm_account_mark_keys_as_published=C.L)(a);b._olm_account_max_number_of_one_time_keys=a=>(b._olm_account_max_number_of_one_time_keys=C.M)(a);b._olm_account_generate_one_time_keys_random_length=(a,c)=>(b._olm_account_generate_one_time_keys_random_length=C.N)(a,c);b._olm_account_generate_one_time_keys=(a,c,d,e)=>(b._olm_account_generate_one_time_keys=C.O)(a,c,d,e);
b._olm_account_generate_fallback_key_random_length=a=>(b._olm_account_generate_fallback_key_random_length=C.P)(a);b._olm_account_generate_fallback_key=(a,c,d)=>(b._olm_account_generate_fallback_key=C.Q)(a,c,d);b._olm_account_fallback_key_length=a=>(b._olm_account_fallback_key_length=C.R)(a);b._olm_account_fallback_key=(a,c,d)=>(b._olm_account_fallback_key=C.S)(a,c,d);b._olm_account_unpublished_fallback_key_length=a=>(b._olm_account_unpublished_fallback_key_length=C.T)(a);
b._olm_account_unpublished_fallback_key=(a,c,d)=>(b._olm_account_unpublished_fallback_key=C.U)(a,c,d);b._olm_account_forget_old_fallback_key=a=>(b._olm_account_forget_old_fallback_key=C.V)(a);b._olm_create_outbound_session_random_length=a=>(b._olm_create_outbound_session_random_length=C.W)(a);b._olm_create_outbound_session=(a,c,d,e,g,h,m,v)=>(b._olm_create_outbound_session=C.X)(a,c,d,e,g,h,m,v);b._olm_create_inbound_session=(a,c,d,e)=>(b._olm_create_inbound_session=C.Y)(a,c,d,e);
b._olm_create_inbound_session_from=(a,c,d,e,g,h)=>(b._olm_create_inbound_session_from=C.Z)(a,c,d,e,g,h);b._olm_session_id_length=a=>(b._olm_session_id_length=C._)(a);b._olm_session_id=(a,c,d)=>(b._olm_session_id=C.$)(a,c,d);b._olm_session_has_received_message=a=>(b._olm_session_has_received_message=C.aa)(a);b._olm_session_describe=(a,c,d)=>(b._olm_session_describe=C.ba)(a,c,d);b._olm_matches_inbound_session=(a,c,d)=>(b._olm_matches_inbound_session=C.ca)(a,c,d);
b._olm_matches_inbound_session_from=(a,c,d,e,g)=>(b._olm_matches_inbound_session_from=C.da)(a,c,d,e,g);b._olm_remove_one_time_keys=(a,c)=>(b._olm_remove_one_time_keys=C.ea)(a,c);b._olm_encrypt_message_type=a=>(b._olm_encrypt_message_type=C.fa)(a);b._olm_encrypt_random_length=a=>(b._olm_encrypt_random_length=C.ga)(a);b._olm_encrypt_message_length=(a,c)=>(b._olm_encrypt_message_length=C.ha)(a,c);b._olm_encrypt=(a,c,d,e,g,h,m)=>(b._olm_encrypt=C.ia)(a,c,d,e,g,h,m);
b._olm_decrypt_max_plaintext_length=(a,c,d,e)=>(b._olm_decrypt_max_plaintext_length=C.ja)(a,c,d,e);b._olm_decrypt=(a,c,d,e,g,h)=>(b._olm_decrypt=C.ka)(a,c,d,e,g,h);b._olm_sha256_length=a=>(b._olm_sha256_length=C.la)(a);b._olm_sha256=(a,c,d,e,g)=>(b._olm_sha256=C.ma)(a,c,d,e,g);b._olm_ed25519_verify=(a,c,d,e,g,h,m)=>(b._olm_ed25519_verify=C.na)(a,c,d,e,g,h,m);b._olm_pk_encryption_last_error=a=>(b._olm_pk_encryption_last_error=C.oa)(a);
b._olm_pk_encryption_last_error_code=a=>(b._olm_pk_encryption_last_error_code=C.pa)(a);b._olm_pk_encryption_size=()=>(b._olm_pk_encryption_size=C.qa)();b._olm_pk_encryption=a=>(b._olm_pk_encryption=C.ra)(a);b._olm_clear_pk_encryption=a=>(b._olm_clear_pk_encryption=C.sa)(a);b._olm_pk_encryption_set_recipient_key=(a,c,d)=>(b._olm_pk_encryption_set_recipient_key=C.ta)(a,c,d);b._olm_pk_key_length=()=>(b._olm_pk_key_length=C.ua)();
b._olm_pk_ciphertext_length=(a,c)=>(b._olm_pk_ciphertext_length=C.va)(a,c);b._olm_pk_mac_length=a=>(b._olm_pk_mac_length=C.wa)(a);b._olm_pk_encrypt_random_length=a=>(b._olm_pk_encrypt_random_length=C.xa)(a);b._olm_pk_encrypt=(a,c,d,e,g,h,m,v,J,L,y)=>(b._olm_pk_encrypt=C.ya)(a,c,d,e,g,h,m,v,J,L,y);b._olm_pk_decryption_last_error=a=>(b._olm_pk_decryption_last_error=C.za)(a);b._olm_pk_decryption_last_error_code=a=>(b._olm_pk_decryption_last_error_code=C.Aa)(a);
b._olm_pk_decryption_size=()=>(b._olm_pk_decryption_size=C.Ba)();b._olm_pk_decryption=a=>(b._olm_pk_decryption=C.Ca)(a);b._olm_clear_pk_decryption=a=>(b._olm_clear_pk_decryption=C.Da)(a);b._olm_pk_private_key_length=()=>(b._olm_pk_private_key_length=C.Ea)();b._olm_pk_generate_key_random_length=()=>(b._olm_pk_generate_key_random_length=C.Fa)();b._olm_pk_key_from_private=(a,c,d,e,g)=>(b._olm_pk_key_from_private=C.Ga)(a,c,d,e,g);
b._olm_pk_generate_key=(a,c,d,e,g)=>(b._olm_pk_generate_key=C.Ha)(a,c,d,e,g);b._olm_pickle_pk_decryption_length=a=>(b._olm_pickle_pk_decryption_length=C.Ia)(a);b._olm_pickle_pk_decryption=(a,c,d,e,g)=>(b._olm_pickle_pk_decryption=C.Ja)(a,c,d,e,g);b._olm_unpickle_pk_decryption=(a,c,d,e,g,h,m)=>(b._olm_unpickle_pk_decryption=C.Ka)(a,c,d,e,g,h,m);b._olm_pk_max_plaintext_length=(a,c)=>(b._olm_pk_max_plaintext_length=C.La)(a,c);
b._olm_pk_decrypt=(a,c,d,e,g,h,m,v,J)=>(b._olm_pk_decrypt=C.Ma)(a,c,d,e,g,h,m,v,J);b._olm_pk_get_private_key=(a,c,d)=>(b._olm_pk_get_private_key=C.Na)(a,c,d);b._olm_pk_signing_size=()=>(b._olm_pk_signing_size=C.Oa)();b._olm_pk_signing=a=>(b._olm_pk_signing=C.Pa)(a);b._olm_pk_signing_last_error=a=>(b._olm_pk_signing_last_error=C.Qa)(a);b._olm_pk_signing_last_error_code=a=>(b._olm_pk_signing_last_error_code=C.Ra)(a);b._olm_clear_pk_signing=a=>(b._olm_clear_pk_signing=C.Sa)(a);
b._olm_pk_signing_seed_length=()=>(b._olm_pk_signing_seed_length=C.Ta)();b._olm_pk_signing_public_key_length=()=>(b._olm_pk_signing_public_key_length=C.Ua)();b._olm_pk_signing_key_from_seed=(a,c,d,e,g)=>(b._olm_pk_signing_key_from_seed=C.Va)(a,c,d,e,g);b._olm_pk_signature_length=()=>(b._olm_pk_signature_length=C.Wa)();b._olm_pk_sign=(a,c,d,e,g)=>(b._olm_pk_sign=C.Xa)(a,c,d,e,g);b._olm_inbound_group_session_size=()=>(b._olm_inbound_group_session_size=C.Ya)();
b._olm_inbound_group_session=a=>(b._olm_inbound_group_session=C.Za)(a);b._olm_clear_inbound_group_session=a=>(b._olm_clear_inbound_group_session=C._a)(a);b._olm_inbound_group_session_last_error=a=>(b._olm_inbound_group_session_last_error=C.$a)(a);b._olm_inbound_group_session_last_error_code=a=>(b._olm_inbound_group_session_last_error_code=C.ab)(a);b._olm_init_inbound_group_session=(a,c,d)=>(b._olm_init_inbound_group_session=C.bb)(a,c,d);
b._olm_import_inbound_group_session=(a,c,d)=>(b._olm_import_inbound_group_session=C.cb)(a,c,d);b._olm_pickle_inbound_group_session_length=a=>(b._olm_pickle_inbound_group_session_length=C.db)(a);b._olm_pickle_inbound_group_session=(a,c,d,e,g)=>(b._olm_pickle_inbound_group_session=C.eb)(a,c,d,e,g);b._olm_unpickle_inbound_group_session=(a,c,d,e,g)=>(b._olm_unpickle_inbound_group_session=C.fb)(a,c,d,e,g);
b._olm_group_decrypt_max_plaintext_length=(a,c,d)=>(b._olm_group_decrypt_max_plaintext_length=C.gb)(a,c,d);b._olm_group_decrypt=(a,c,d,e,g,h)=>(b._olm_group_decrypt=C.hb)(a,c,d,e,g,h);b._olm_inbound_group_session_id_length=a=>(b._olm_inbound_group_session_id_length=C.ib)(a);b._olm_inbound_group_session_id=(a,c,d)=>(b._olm_inbound_group_session_id=C.jb)(a,c,d);b._olm_inbound_group_session_first_known_index=a=>(b._olm_inbound_group_session_first_known_index=C.kb)(a);
b._olm_inbound_group_session_is_verified=a=>(b._olm_inbound_group_session_is_verified=C.lb)(a);b._olm_export_inbound_group_session_length=a=>(b._olm_export_inbound_group_session_length=C.mb)(a);b._olm_export_inbound_group_session=(a,c,d,e)=>(b._olm_export_inbound_group_session=C.nb)(a,c,d,e);b._olm_outbound_group_session_size=()=>(b._olm_outbound_group_session_size=C.ob)();b._olm_outbound_group_session=a=>(b._olm_outbound_group_session=C.pb)(a);
b._olm_clear_outbound_group_session=a=>(b._olm_clear_outbound_group_session=C.qb)(a);b._olm_outbound_group_session_last_error=a=>(b._olm_outbound_group_session_last_error=C.rb)(a);b._olm_outbound_group_session_last_error_code=a=>(b._olm_outbound_group_session_last_error_code=C.sb)(a);b._olm_pickle_outbound_group_session_length=a=>(b._olm_pickle_outbound_group_session_length=C.tb)(a);b._olm_pickle_outbound_group_session=(a,c,d,e,g)=>(b._olm_pickle_outbound_group_session=C.ub)(a,c,d,e,g);
b._olm_unpickle_outbound_group_session=(a,c,d,e,g)=>(b._olm_unpickle_outbound_group_session=C.vb)(a,c,d,e,g);b._olm_init_outbound_group_session_random_length=a=>(b._olm_init_outbound_group_session_random_length=C.wb)(a);b._olm_init_outbound_group_session=(a,c,d)=>(b._olm_init_outbound_group_session=C.xb)(a,c,d);b._olm_group_encrypt_message_length=(a,c)=>(b._olm_group_encrypt_message_length=C.yb)(a,c);b._olm_group_encrypt=(a,c,d,e,g)=>(b._olm_group_encrypt=C.zb)(a,c,d,e,g);
b._olm_outbound_group_session_id_length=a=>(b._olm_outbound_group_session_id_length=C.Ab)(a);b._olm_outbound_group_session_id=(a,c,d)=>(b._olm_outbound_group_session_id=C.Bb)(a,c,d);b._olm_outbound_group_session_message_index=a=>(b._olm_outbound_group_session_message_index=C.Cb)(a);b._olm_outbound_group_session_key_length=a=>(b._olm_outbound_group_session_key_length=C.Db)(a);b._olm_outbound_group_session_key=(a,c,d)=>(b._olm_outbound_group_session_key=C.Eb)(a,c,d);
b._olm_sas_last_error=a=>(b._olm_sas_last_error=C.Fb)(a);b._olm_sas_last_error_code=a=>(b._olm_sas_last_error_code=C.Gb)(a);b._olm_sas_size=()=>(b._olm_sas_size=C.Hb)();b._olm_sas=a=>(b._olm_sas=C.Ib)(a);b._olm_clear_sas=a=>(b._olm_clear_sas=C.Jb)(a);b._olm_create_sas_random_length=a=>(b._olm_create_sas_random_length=C.Kb)(a);b._olm_create_sas=(a,c,d)=>(b._olm_create_sas=C.Lb)(a,c,d);b._olm_sas_pubkey_length=a=>(b._olm_sas_pubkey_length=C.Mb)(a);
b._olm_sas_get_pubkey=(a,c,d)=>(b._olm_sas_get_pubkey=C.Nb)(a,c,d);b._olm_sas_set_their_key=(a,c,d)=>(b._olm_sas_set_their_key=C.Ob)(a,c,d);b._olm_sas_is_their_key_set=a=>(b._olm_sas_is_their_key_set=C.Pb)(a);b._olm_sas_generate_bytes=(a,c,d,e,g)=>(b._olm_sas_generate_bytes=C.Qb)(a,c,d,e,g);b._olm_sas_mac_length=a=>(b._olm_sas_mac_length=C.Rb)(a);b._olm_sas_calculate_mac_fixed_base64=(a,c,d,e,g,h,m)=>(b._olm_sas_calculate_mac_fixed_base64=C.Sb)(a,c,d,e,g,h,m);
b._olm_sas_calculate_mac=(a,c,d,e,g,h,m)=>(b._olm_sas_calculate_mac=C.Tb)(a,c,d,e,g,h,m);b._olm_sas_calculate_mac_long_kdf=(a,c,d,e,g,h,m)=>(b._olm_sas_calculate_mac_long_kdf=C.Ub)(a,c,d,e,g,h,m);b._malloc=a=>(b._malloc=C.Vb)(a);b._free=a=>(b._free=C.Wb)(a);var Pa=()=>(Pa=C.Xb)(),Qa=a=>(Qa=C.Yb)(a),Ra=a=>(Ra=C.Zb)(a);b.UTF8ToString=(a,c)=>a?B(a,c):"";b.stringToUTF8=(a,c,d)=>A(a,t,c,d);b.intArrayFromString=Ma;b.ALLOC_STACK=1;b.writeAsciiToMemory=La;var Sa;Ca=function Ta(){Sa||Ua();Sa||(Ca=Ta)};
function Ua(){function a(){if(!Sa&&(Sa=!0,b.calledRun=!0,!pa)){Ja(xa);aa(b);if(b.onRuntimeInitialized)b.onRuntimeInitialized();if(b.postRun)for("function"==typeof b.postRun&&(b.postRun=[b.postRun]);b.postRun.length;){var c=b.postRun.shift();za.unshift(c)}Ja(za)}}if(!(0<u)){if(b.preRun)for("function"==typeof b.preRun&&(b.preRun=[b.preRun]);b.preRun.length;)Aa();Ja(wa);0<u||(b.setStatus?(b.setStatus("Running..."),setTimeout(function(){setTimeout(function(){b.setStatus("")},1);a()},1)):a())}}
if(b.preInit)for("function"==typeof b.preInit&&(b.preInit=[b.preInit]);0<b.preInit.length;)b.preInit.pop()();Ua();function D(){var a=b._olm_outbound_group_session_size();this.ac=E(a);this.$b=b._olm_outbound_group_session(this.ac)}function F(a){return function(){var c=a.apply(this,arguments);if(c===k)throw c=(c=b._olm_outbound_group_session_last_error(arguments[0]))?B(c):"",Error("OLM."+c);return c}}D.prototype.free=function(){b._olm_clear_outbound_group_session(this.$b);G(this.$b)};
D.prototype.pickle=H(function(a){a=I(a);var c=F(b._olm_pickle_outbound_group_session_length)(this.$b),d=K(a),e=K(c+1);try{F(b._olm_pickle_outbound_group_session)(this.$b,d,a.length,e,c)}finally{for(M(d,a.length),d=0;d<a.length;d++)a[d]=0}return e?B(e,c):""});D.prototype.unpickle=H(function(a,c){a=I(a);var d=K(a);c=I(c);var e=K(c);try{F(b._olm_unpickle_outbound_group_session)(this.$b,d,a.length,e,c.length)}finally{for(M(d,a.length),d=0;d<a.length;d++)a[d]=0}});
D.prototype.create=H(function(){var a=F(b._olm_init_outbound_group_session_random_length)(this.$b),c=N(a,f);try{F(b._olm_init_outbound_group_session)(this.$b,c,a)}finally{M(c,a)}});D.prototype.encrypt=function(a){try{var c=z(a);var d=F(b._olm_group_encrypt_message_length)(this.$b,c);var e=E(c+1);A(a,t,e,c+1);var g=E(d+1);F(b._olm_group_encrypt)(this.$b,e,c,g,d);x(g+d);return g?B(g,d):""}finally{void 0!==e&&(M(e,c+1),G(e)),void 0!==g&&G(g)}};
D.prototype.session_id=H(function(){var a=F(b._olm_outbound_group_session_id_length)(this.$b),c=K(a+1);F(b._olm_outbound_group_session_id)(this.$b,c,a);return c?B(c,a):""});D.prototype.session_key=H(function(){var a=F(b._olm_outbound_group_session_key_length)(this.$b),c=K(a+1);F(b._olm_outbound_group_session_key)(this.$b,c,a);var d=c?B(c,a):"";M(c,a);return d});D.prototype.message_index=function(){return F(b._olm_outbound_group_session_message_index)(this.$b)};olm_exports.OutboundGroupSession=D;
function O(){var a=b._olm_inbound_group_session_size();this.ac=E(a);this.$b=b._olm_inbound_group_session(this.ac)}function P(a){return function(){var c=a.apply(this,arguments);if(c===k)throw c=(c=b._olm_inbound_group_session_last_error(arguments[0]))?B(c):"",Error("OLM."+c);return c}}O.prototype.free=function(){b._olm_clear_inbound_group_session(this.$b);G(this.$b)};
O.prototype.pickle=H(function(a){a=I(a);var c=P(b._olm_pickle_inbound_group_session_length)(this.$b),d=K(a),e=K(c+1);try{P(b._olm_pickle_inbound_group_session)(this.$b,d,a.length,e,c)}finally{for(M(d,a.length),d=0;d<a.length;d++)a[d]=0}return e?B(e,c):""});O.prototype.unpickle=H(function(a,c){a=I(a);var d=K(a);c=I(c);var e=K(c);try{P(b._olm_unpickle_inbound_group_session)(this.$b,d,a.length,e,c.length)}finally{for(M(d,a.length),d=0;d<a.length;d++)a[d]=0}});
O.prototype.create=H(function(a){a=I(a);var c=K(a);try{P(b._olm_init_inbound_group_session)(this.$b,c,a.length)}finally{for(M(c,a.length),c=0;c<a.length;c++)a[c]=0}});O.prototype.import_session=H(function(a){a=I(a);var c=K(a);try{P(b._olm_import_inbound_group_session)(this.$b,c,a.length)}finally{for(M(c,a.length),c=0;c<a.length;c++)a[c]=0}});
O.prototype.decrypt=H(function(a){try{var c=E(a.length);La(a,c,!0);var d=P(b._olm_group_decrypt_max_plaintext_length)(this.$b,c,a.length);La(a,c,!0);var e=E(d+1);var g=K(4);var h=P(b._olm_group_decrypt)(this.$b,c,a.length,e,d,g);x(e+h);return{plaintext:e?B(e,h):"",message_index:Ka(g,"i32")}}finally{void 0!==c&&G(c),void 0!==e&&(M(e,h),G(e))}});
O.prototype.session_id=H(function(){var a=P(b._olm_inbound_group_session_id_length)(this.$b),c=K(a+1);P(b._olm_inbound_group_session_id)(this.$b,c,a);return c?B(c,a):""});O.prototype.first_known_index=H(function(){return P(b._olm_inbound_group_session_first_known_index)(this.$b)});O.prototype.export_session=H(function(a){var c=P(b._olm_export_inbound_group_session_length)(this.$b),d=K(c+1);F(b._olm_export_inbound_group_session)(this.$b,d,c,a);a=d?B(d,c):"";M(d,c);return a});
olm_exports.InboundGroupSession=O;function Va(){var a=b._olm_pk_encryption_size();this.ac=E(a);this.$b=b._olm_pk_encryption(this.ac)}function Q(a){return function(){var c=a.apply(this,arguments);if(c===k)throw c=(c=b._olm_pk_encryption_last_error(arguments[0]))?B(c):"",Error("OLM."+c);return c}}Va.prototype.free=function(){b._olm_clear_pk_encryption(this.$b);G(this.$b)};Va.prototype.set_recipient_key=H(function(a){a=I(a);var c=K(a);Q(b._olm_pk_encryption_set_recipient_key)(this.$b,c,a.length)});
Va.prototype.encrypt=H(function(a){try{var c=z(a);var d=E(c+1);A(a,t,d,c+1);var e=Q(b._olm_pk_encrypt_random_length)();var g=N(e,f);var h=Q(b._olm_pk_ciphertext_length)(this.$b,c);var m=E(h+1);var v=Q(b._olm_pk_mac_length)(this.$b),J=K(v+1);x(J+v);var L=Q(b._olm_pk_key_length)(),y=K(L+1);x(y+L);Q(b._olm_pk_encrypt)(this.$b,d,c,m,h,J,v,y,L,g,e);x(m+h);return{ciphertext:m?B(m,h):"",mac:J?B(J,v):"",ephemeral:y?B(y,L):""}}finally{void 0!==g&&M(g,e),void 0!==d&&(M(d,c+1),G(d)),void 0!==m&&G(m)}});
function R(){var a=b._olm_pk_decryption_size();this.ac=E(a);this.$b=b._olm_pk_decryption(this.ac)}function S(a){return function(){var c=a.apply(this,arguments);if(c===k)throw c=(c=b._olm_pk_decryption_last_error(arguments[0]))?B(c):"",Error("OLM."+c);return c}}R.prototype.free=function(){b._olm_clear_pk_decryption(this.$b);G(this.$b)};
R.prototype.init_with_private_key=H(function(a){var c=K(a.length);b.HEAPU8.set(a,c);var d=S(b._olm_pk_key_length)(),e=K(d+1);try{S(b._olm_pk_key_from_private)(this.$b,e,d,c,a.length)}finally{M(c,a.length)}return e?B(e,d):""});R.prototype.generate_key=H(function(){var a=S(b._olm_pk_private_key_length)(),c=N(a,f),d=S(b._olm_pk_key_length)(),e=K(d+1);try{S(b._olm_pk_key_from_private)(this.$b,e,d,c,a)}finally{M(c,a)}return e?B(e,d):""});
R.prototype.get_private_key=H(function(){var a=Q(b._olm_pk_private_key_length)(),c=K(a);S(b._olm_pk_get_private_key)(this.$b,c,a);var d=new Uint8Array(new Uint8Array(b.HEAPU8.buffer,c,a));M(c,a);return d});R.prototype.pickle=H(function(a){a=I(a);var c=S(b._olm_pickle_pk_decryption_length)(this.$b),d=K(a),e=K(c+1);try{S(b._olm_pickle_pk_decryption)(this.$b,d,a.length,e,c)}finally{for(M(d,a.length),d=0;d<a.length;d++)a[d]=0}return e?B(e,c):""});
R.prototype.unpickle=H(function(a,c){a=I(a);var d=K(a),e=I(c),g=K(e);c=S(b._olm_pk_key_length)();var h=K(c+1);try{S(b._olm_unpickle_pk_decryption)(this.$b,d,a.length,g,e.length,h,c)}finally{for(M(d,a.length),d=0;d<a.length;d++)a[d]=0}return h?B(h,c):""});
R.prototype.decrypt=H(function(a,c,d){try{var e=z(d);var g=E(e+1);A(d,t,g,e+1);var h=I(a),m=K(h),v=I(c),J=K(v);var L=S(b._olm_pk_max_plaintext_length)(this.$b,e);var y=E(L+1);var ya=S(b._olm_pk_decrypt)(this.$b,m,h.length,J,v.length,g,e,y,L);x(y+ya);return y?B(y,ya):""}finally{void 0!==y&&(M(y,ya+1),G(y)),void 0!==g&&G(g)}});function Wa(){var a=b._olm_pk_signing_size();this.ac=E(a);this.$b=b._olm_pk_signing(this.ac)}
function Xa(a){return function(){var c=a.apply(this,arguments);if(c===k)throw c=(c=b._olm_pk_signing_last_error(arguments[0]))?B(c):"",Error("OLM."+c);return c}}Wa.prototype.free=function(){b._olm_clear_pk_signing(this.$b);G(this.$b)};Wa.prototype.init_with_seed=H(function(a){var c=K(a.length);b.HEAPU8.set(a,c);var d=Xa(b._olm_pk_signing_public_key_length)(),e=K(d+1);try{Xa(b._olm_pk_signing_key_from_seed)(this.$b,e,d,c,a.length)}finally{M(c,a.length)}return e?B(e,d):""});
Wa.prototype.generate_seed=H(function(){var a=Xa(b._olm_pk_signing_seed_length)(),c=N(a,f),d=new Uint8Array(new Uint8Array(b.HEAPU8.buffer,c,a));M(c,a);return d});Wa.prototype.sign=H(function(a){try{var c=z(a);var d=E(c+1);A(a,t,d,c+1);var e=Xa(b._olm_pk_signature_length)(),g=K(e+1);Xa(b._olm_pk_sign)(this.$b,d,c,g,e);return g?B(g,e):""}finally{void 0!==d&&(M(d,c+1),G(d))}});
function T(){var a=b._olm_sas_size(),c=b._olm_create_sas_random_length(),d=N(c,f);this.ac=E(a);this.$b=b._olm_sas(this.ac);b._olm_create_sas(this.$b,d,c);M(d,c)}function U(a){return function(){var c=a.apply(this,arguments);if(c===k)throw c=(c=b._olm_sas_last_error(arguments[0]))?B(c):"",Error("OLM."+c);return c}}T.prototype.free=function(){b._olm_clear_sas(this.$b);G(this.$b)};
T.prototype.get_pubkey=H(function(){var a=U(b._olm_sas_pubkey_length)(this.$b),c=K(a+1);U(b._olm_sas_get_pubkey)(this.$b,c,a);return c?B(c,a):""});T.prototype.set_their_key=H(function(a){a=I(a);var c=K(a);U(b._olm_sas_set_their_key)(this.$b,c,a.length)});T.prototype.is_their_key_set=H(function(){return U(b._olm_sas_is_their_key_set)(this.$b)?!0:!1});
T.prototype.generate_bytes=H(function(a,c){a=I(a);var d=K(a),e=K(c);U(b._olm_sas_generate_bytes)(this.$b,d,a.length,e,c);return new Uint8Array(new Uint8Array(b.HEAPU8.buffer,e,c))});T.prototype.calculate_mac=H(function(a,c){a=I(a);var d=K(a);c=I(c);var e=K(c),g=U(b._olm_sas_mac_length)(this.$b),h=K(g+1);U(b._olm_sas_calculate_mac)(this.$b,d,a.length,e,c.length,h,g);return h?B(h,g):""});
T.prototype.calculate_mac_fixed_base64=H(function(a,c){a=I(a);var d=K(a);c=I(c);var e=K(c),g=U(b._olm_sas_mac_length)(this.$b),h=K(g+1);U(b._olm_sas_calculate_mac_fixed_base64)(this.$b,d,a.length,e,c.length,h,g);return h?B(h,g):""});T.prototype.calculate_mac_long_kdf=H(function(a,c){a=I(a);var d=K(a);c=I(c);var e=K(c),g=U(b._olm_sas_mac_length)(this.$b),h=K(g+1);U(b._olm_sas_calculate_mac_long_kdf)(this.$b,d,a.length,e,c.length,h,g);return h?B(h,g):""});var E=b._malloc,G=b._free,k;
function N(a,c){var d=Ra(a);c(new Uint8Array(b.HEAPU8.buffer,d,a));return d}function K(a){return"number"==typeof a?N(a,function(c){c.fill(0)}):N(a.length,function(c){c.set(a)})}function I(a){return a instanceof Uint8Array?a:Ma(a,!0)}function H(a){return function(){var c=Pa();try{return a.apply(this,arguments)}finally{Qa(c)}}}function M(a,c){for(;0<c--;)b.HEAP8[a++]=0}function V(){var a=b._olm_account_size();this.ac=E(a);this.$b=b._olm_account(this.ac)}
function W(a){return function(){var c=a.apply(this,arguments);if(c===k)throw c=(c=b._olm_account_last_error(arguments[0]))?B(c):"",Error("OLM."+c);return c}}V.prototype.free=function(){b._olm_clear_account(this.$b);G(this.$b)};V.prototype.create=H(function(){var a=W(b._olm_create_account_random_length)(this.$b),c=N(a,f);try{W(b._olm_create_account)(this.$b,c,a)}finally{M(c,a)}});
V.prototype.identity_keys=H(function(){var a=W(b._olm_account_identity_keys_length)(this.$b),c=K(a+1);W(b._olm_account_identity_keys)(this.$b,c,a);return c?B(c,a):""});V.prototype.sign=H(function(a){var c=W(b._olm_account_signature_length)(this.$b);a=I(a);var d=K(a),e=K(c+1);try{W(b._olm_account_sign)(this.$b,d,a.length,e,c)}finally{for(M(d,a.length),d=0;d<a.length;d++)a[d]=0}return e?B(e,c):""});
V.prototype.one_time_keys=H(function(){var a=W(b._olm_account_one_time_keys_length)(this.$b),c=K(a+1);W(b._olm_account_one_time_keys)(this.$b,c,a);return c?B(c,a):""});V.prototype.mark_keys_as_published=H(function(){W(b._olm_account_mark_keys_as_published)(this.$b)});V.prototype.max_number_of_one_time_keys=H(function(){return W(b._olm_account_max_number_of_one_time_keys)(this.$b)});
V.prototype.generate_one_time_keys=H(function(a){var c=W(b._olm_account_generate_one_time_keys_random_length)(this.$b,a),d=N(c,f);try{W(b._olm_account_generate_one_time_keys)(this.$b,a,d,c)}finally{M(d,c)}});V.prototype.remove_one_time_keys=H(function(a){W(b._olm_remove_one_time_keys)(this.$b,a.$b)});V.prototype.generate_fallback_key=H(function(){var a=W(b._olm_account_generate_fallback_key_random_length)(this.$b),c=N(a,f);try{W(b._olm_account_generate_fallback_key)(this.$b,c,a)}finally{M(c,a)}});
V.prototype.fallback_key=H(function(){var a=W(b._olm_account_fallback_key_length)(this.$b),c=K(a+1);W(b._olm_account_fallback_key)(this.$b,c,a);return c?B(c,a):""});V.prototype.unpublished_fallback_key=H(function(){var a=W(b._olm_account_unpublished_fallback_key_length)(this.$b),c=K(a+1);W(b._olm_account_unpublished_fallback_key)(this.$b,c,a);return c?B(c,a):""});V.prototype.forget_old_fallback_key=H(function(){W(b._olm_account_forget_old_fallback_key)(this.$b)});
V.prototype.pickle=H(function(a){a=I(a);var c=W(b._olm_pickle_account_length)(this.$b),d=K(a),e=K(c+1);try{W(b._olm_pickle_account)(this.$b,d,a.length,e,c)}finally{for(M(d,a.length),d=0;d<a.length;d++)a[d]=0}return e?B(e,c):""});V.prototype.unpickle=H(function(a,c){a=I(a);var d=K(a);c=I(c);var e=K(c);try{W(b._olm_unpickle_account)(this.$b,d,a.length,e,c.length)}finally{for(M(d,a.length),d=0;d<a.length;d++)a[d]=0}});
function X(){var a=b._olm_session_size();this.ac=E(a);this.$b=b._olm_session(this.ac)}function Y(a){return function(){var c=a.apply(this,arguments);if(c===k)throw c=(c=b._olm_session_last_error(arguments[0]))?B(c):"",Error("OLM."+c);return c}}X.prototype.free=function(){b._olm_clear_session(this.$b);G(this.$b)};
X.prototype.pickle=H(function(a){a=I(a);var c=Y(b._olm_pickle_session_length)(this.$b),d=K(a),e=K(c+1);try{Y(b._olm_pickle_session)(this.$b,d,a.length,e,c)}finally{for(M(d,a.length),d=0;d<a.length;d++)a[d]=0}return e?B(e,c):""});X.prototype.unpickle=H(function(a,c){a=I(a);var d=K(a);c=I(c);var e=K(c);try{Y(b._olm_unpickle_session)(this.$b,d,a.length,e,c.length)}finally{for(M(d,a.length),d=0;d<a.length;d++)a[d]=0}});
X.prototype.create_outbound=H(function(a,c,d){var e=Y(b._olm_create_outbound_session_random_length)(this.$b),g=N(e,f);c=I(c);d=I(d);var h=K(c),m=K(d);try{Y(b._olm_create_outbound_session)(this.$b,a.$b,h,c.length,m,d.length,g,e)}finally{M(g,e)}});X.prototype.create_inbound=H(function(a,c){c=I(c);var d=K(c);try{Y(b._olm_create_inbound_session)(this.$b,a.$b,d,c.length)}finally{for(M(d,c.length),a=0;a<c.length;a++)c[a]=0}});
X.prototype.create_inbound_from=H(function(a,c,d){c=I(c);var e=K(c);d=I(d);var g=K(d);try{Y(b._olm_create_inbound_session_from)(this.$b,a.$b,e,c.length,g,d.length)}finally{for(M(g,d.length),a=0;a<d.length;a++)d[a]=0}});X.prototype.session_id=H(function(){var a=Y(b._olm_session_id_length)(this.$b),c=K(a+1);Y(b._olm_session_id)(this.$b,c,a);return c?B(c,a):""});X.prototype.has_received_message=function(){return Y(b._olm_session_has_received_message)(this.$b)?!0:!1};
X.prototype.matches_inbound=H(function(a){a=I(a);var c=K(a);return Y(b._olm_matches_inbound_session)(this.$b,c,a.length)?!0:!1});X.prototype.matches_inbound_from=H(function(a,c){a=I(a);var d=K(a);c=I(c);var e=K(c);return Y(b._olm_matches_inbound_session_from)(this.$b,d,a.length,e,c.length)?!0:!1});
X.prototype.encrypt=H(function(a){try{var c=Y(b._olm_encrypt_random_length)(this.$b);var d=Y(b._olm_encrypt_message_type)(this.$b);var e=z(a);var g=Y(b._olm_encrypt_message_length)(this.$b,e);var h=N(c,f);var m=E(e+1);A(a,t,m,e+1);var v=E(g+1);Y(b._olm_encrypt)(this.$b,m,e,h,c,v,g);x(v+g);return{type:d,body:v?B(v,g):""}}finally{void 0!==h&&M(h,c),void 0!==m&&(M(m,e+1),G(m)),void 0!==v&&G(v)}});
X.prototype.decrypt=H(function(a,c){try{var d=E(c.length);La(c,d,!0);var e=Y(b._olm_decrypt_max_plaintext_length)(this.$b,a,d,c.length);La(c,d,!0);var g=E(e+1);var h=Y(b._olm_decrypt)(this.$b,a,d,c.length,g,e);x(g+h);return g?B(g,h):""}finally{void 0!==d&&G(d),void 0!==g&&(M(g,e),G(g))}});X.prototype.describe=H(function(){try{var a=E(256);Y(b._olm_session_describe)(this.$b,a,256);return a?B(a):""}finally{void 0!==a&&G(a)}});
function Z(){var a=b._olm_utility_size();this.ac=E(a);this.$b=b._olm_utility(this.ac)}function Ya(a){return function(){var c=a.apply(this,arguments);if(c===k)throw c=(c=b._olm_utility_last_error(arguments[0]))?B(c):"",Error("OLM."+c);return c}}Z.prototype.free=function(){b._olm_clear_utility(this.$b);G(this.$b)};
Z.prototype.sha256=H(function(a){var c=Ya(b._olm_sha256_length)(this.$b);a=I(a);var d=K(a),e=K(c+1);try{Ya(b._olm_sha256)(this.$b,d,a.length,e,c)}finally{for(M(d,a.length),d=0;d<a.length;d++)a[d]=0}return e?B(e,c):""});Z.prototype.sha256_bytes=Z.prototype.sha256;Z.prototype.ed25519_verify=H(function(a,c,d){a=I(a);var e=K(a);c=I(c);var g=K(c);d=I(d);var h=K(d);try{Ya(b._olm_ed25519_verify)(this.$b,e,a.length,g,c.length,h,d.length)}finally{for(M(g,c.length),a=0;a<c.length;a++)c[a]=0}});
olm_exports.Account=V;olm_exports.Session=X;olm_exports.Utility=Z;olm_exports.PkEncryption=Va;olm_exports.PkDecryption=R;olm_exports.PkSigning=Wa;olm_exports.SAS=T;olm_exports.get_library_version=H(function(){var a=K(3);b._olm_get_library_version(a,a+1,a+2);return[Ka(a,"i8"),Ka(a+1,"i8"),Ka(a+2,"i8")]});


  return moduleArg.ready
}

);
})();
if (typeof exports === 'object' && typeof module === 'object')
  module.exports = Module;
else if (typeof define === 'function' && define['amd'])
  define([], () => Module);
var olmInitPromise;

olm_exports['init'] = function(opts) {
    if (olmInitPromise) return olmInitPromise;

    if (opts) OLM_OPTIONS = opts;

    olmInitPromise = new Promise(function(resolve, reject) {
        onInitSuccess = function() {
            resolve();
        };
        onInitFail = function(err) {
            reject(err);
        };
        Module();
    });
    return olmInitPromise;
};

return olm_exports;

})();

if (typeof(window) !== 'undefined') {
    // We've been imported directly into a browser. Define the global 'Olm' object.
    // (we do this even if module.exports was defined, because it's useful to have
    // Olm in the global scope for browserified and webpacked apps.)
    window["Olm"] = Olm;
}

if (typeof module === 'object') {
    // Emscripten sets the module exports to be its module
    // with wrapped c functions. Clobber it with our higher
    // level wrapper class.
    module.exports = Olm;
}

// @license-end
